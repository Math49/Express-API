<%- include('../components/head') %>

<title>Description du produit</title>
</head>
<body>
    <%- include('../components/header') %>

    <div class="separator bg-gradient-ypt"></div>

    <div class="w-full ml-[30px]">
        <a href="/boutique" class="hover:underline"><i class="fa-regular fa-hand-point-left"></i> Retourner à la boutique</a>
    </div>

    <div class="container mx-auto my-10">
        <div class="flex flex-col items-center">
            <h1 class="text-3xl font-bold mb-4" id="produitLabel"></h1>
            <div class="w-[60vw] p-4 bg-white rounded-lg shadow-md">
                <div class="flex gap-8">
                    <!-- Image du produit -->
                    <div class="w-1/3">
                        <img
                            src="/static/images/bonbon-default.jpg"
                            alt="Image du produit"
                            class="w-full h-auto rounded-lg"
                        />
                    </div>

                    <!-- Détails du produit -->
                    <div class="flex-1">
                        <h2 class="text-2xl font-semibold text-gray-700 mb-2" id="produitMarque">Marque : </h2>
                        <p class="text-gray-600 mb-4" id="produitDescr">Description : </p>
                        <p class="text-xl font-bold text-[#030301] mt-2" id="produitPrixHT">Prix HT : </p>
                        <% if (user ) { %>
                            <button id="addcart" class="mt-6 bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600">
                                Ajouter au panier
                            </button>
                        <% } else { %>
                            <p class="text-gray-600 mt-6">Connectez-vous pour ajouter au panier.</p>
                        <% } %>
                    </div>
                </div>
            </div>
            <div class="w-[60vw] p-4 bg-white rounded-lg shadow-md mt-8">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">Commentaires</h2>
                <div id="commentairesSection">
                    <!-- Les commentaires seront insérés ici dynamiquement -->
                </div>

                <% if (user) { %>
                    <div class="mt-6">
                        <h3 class="text-xl font-semibold text-gray-700 mb-2">Ajouter un commentaire</h3>
                        <form id="commentForm">
                            <input
                                type="hidden"
                                id="ID_Compte"
                                name="ID_Compte"
                                value="<%= user.id %>"
                            />
                            <textarea
                                id="Texte"
                                class="w-full p-2 border rounded mb-4"
                                rows="4"
                                placeholder="Écrire un commentaire..."
                            ></textarea>
                            <button
                                type="submit"
                                class="bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600"
                            >
                                Poster le commentaire
                            </button>
                        </form>
                    </div>
                <% } else { %>
                    <p class="text-gray-600">Vous devez être connecté pour poster un commentaire.</p>
                <% } %>
            </div>
        </div>
    </div>

    <%- include('../components/footer') %>
    <script src="/static/script/produitScript.js"></script>
</body>
</html>
